<!DOCTYPE html>
<html lang="en">
<head>
    <!-- meta tags -->
    <meta charset="UTF-8">
    <meta name="author" content="Anastassios Martakos">
    <meta name="description" content="Logfile aggregator">
    <meta name="keywords" content="log,file,logfile,aggregation,parse,collect,extract,analyse">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- IE: disable compatibility mode -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- jquery -->
    <script src="//code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

    <!-- bootstrap -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />

    <!-- selectize -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.4/css/selectize.bootstrap3.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.4/js/standalone/selectize.min.js"></script>

    <!-- moment-js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment-with-locales.min.js"></script>

    <!-- bootstrap-datetimepicker -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>

    <!-- jquery tablesorter -->
    <!-- jquery tablesorter - css - themes -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.12/css/theme.default.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.10/css/theme.bootstrap_3.min.css" />

    <!-- jquery tablesorter - css - widgets -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.12/css/jquery.tablesorter.pager.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.12/css/filter.formatter.min.css" />

    <!-- jquery tablesorter - js - main -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.12/js/jquery.tablesorter.min.js"></script>

    <!-- jquery tablesorter - js - pager -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.12/js/extras/jquery.tablesorter.pager.min.js"></script>

    <!-- jquery tablesorter - js - filter -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.12/js/widgets/widget-filter-formatter-select2.min.js"></script>

    <!-- jquery tablesorter - js - widgets -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.12/js/jquery.tablesorter.widgets.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.14/js/widgets/widget-columnSelector.min.js"></script>
    <link href="/static/tablesorter/column_selector.css" rel="stylesheet" />

    <!-- chroma.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/chroma-js/1.3.4/chroma.min.js"></script>

    <!-- tamandua specific -->
    <link href="/static/tamandua.css" rel="stylesheet" />
    <script src="/static/tamandua.js"></script>

    <title>Tamandua</title>
</head>
<body>
<header>
    <nav id="header-panel" class="navbar navbar-default navbar-static-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Tamandua</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a id="dashboard-nav-link" class="navbar-item">Dashboard</a></li>
                    <li><a id="search-nav-link"  class="navbar-item">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<main>
    <div id="view-container">
        <div style="display: none;" id="search-view" class="view">
            <div class="container">

        <div id="search" class="container-fluid panel panel-default">
            <div> <!-- header -->
                <h4>Search</h4>
                <hr>
            </div>

            <div class="row">
                <div class="col-xs-12 col-md-7 col-lg-7 border-right">
                    <div> <!-- header -->
                        <h5 class="sub-title-1">Field Values</h5>
                    </div>

                    <div id="expression-container"></div>

                    <div id="expression-add" class="row">
                        <div class="col-xs-10 col-md-10 padding-0-left"></div>
                        <div class="col-xs-2 col-md-2 padding-0-left">
                            <button id="add-expression-line-button" type="button" class="btn btn-default width-100"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-5 col-lg-5">
                    <div> <!-- header -->
                        <h5 class="sub-title-1">Date and Time</h5>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-md-3 padding-1-right">
                            <div class="form-control cursor-default add-margin-bottom" disabled>From</div>
                        </div>

                        <div id="dt-from-search-mask" class="dt-search-mask" style="display: none">
                            <div class="col-xs-7 col-md-7 padding-0-left padding-1-right">
                                <div class="form-group">
                                    <div class='input-group date' id='dt-from-picker'>
                                        <input type='text' class="form-control" />
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2 col-md-2 padding-0-left">
                                <button class="btn btn-default width-100 remove-dt-button" type="button"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></button>
                            </div>
                        </div>

                        <div class="col-xs-9 col-md-9 padding-0-left dt-add">
                            <button class="btn btn-default width-100 add-dt-button" type="button"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-md-3 padding-1-right">
                            <p class="form-control cursor-default" disabled>To</p>
                        </div>

                        <div id="dt-to-search-mask" class="dt-search-mask" style="display: none">
                            <div class="col-xs-7 col-md-7 padding-0-left padding-1-right">
                                <div class="form-group">
                                    <div class='input-group date' id='dt-to-picker'>
                                        <input type='text' class="form-control" />
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2 col-md-2 padding-0-left">
                                <button class="btn btn-default width-100 remove-dt-button" type="button"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></button>
                            </div>
                        </div>

                        <div class="col-xs-9 col-md-9 padding-0-left dt-add">
                            <button class="btn btn-default width-100 add-dt-button" type="button"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-12 col-md-12 col-ld-12">
                    <hr class="margin-top-1">
                    <div class="pull-right margin-bottom-1">
                        <div class="btn-group" role="group" aria-label="...">
                            <button id="search-button" type="button" class="btn btn-primary">Search</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-12 col-md-12 col-ld-12">
                    <div style="display: none;" id="search-error">
                        <hr class="margin-top-1">
                        <div  class="alert alert-danger">
                            <p style="display: none;" id="search-error-generic"></p>
                            <p style="display: none;" id="search-error-received-invalid">The received data from the server is invalid and cannot be processed.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="results" class="container-fluid panel panel-default">
            <div> <!-- header -->
                <div class="add-margin-top">
                    <div class="inline">
                        <h4>Results</h4>
                    </div>
                    <div class="columnSelectorWrapper hide-on-search" style="display: none;">
                        <input id="colSelect1" type="checkbox" class="hidden">
                        <label class="btn btn-default" for="colSelect1">Toggle Columns</label>
                    <div id="columnSelector" class="columnSelector"></div>
                </div>
                </div>
                <hr>
            </div>

            <p class="remove">Results are shown here.</p>
            <div id="search-loading" class="loader" style="display: none;"></div>
            <div style="display: none;" id="result-info" class="alert alert-info">
                <p style="display: none;" id="result-info-no-results">No results. Try to search for something different!</p>
                <p style="display: none;" id="result-info-too-may-results"></p>
            </div>
            <div id="result-container">
                <div id="tags-container" class="hide-on-search"></div>
                <table class="custom-popup" id="result-table">
                    <thead style="display: none;"></thead>
                    <tbody></tbody>
                </table>
                <div id="pager" class="pager" style="display: none;">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-default first">&lt;&lt;</button>
                        <button type="button" class="btn btn-default prev">&lt;</button>
                    </div>

                    <div class="btn-group" role="group">
                        <input class="form-control pagedisplay" type="text" readonly />
                    </div>

                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-default next">&gt;</button>
                        <button type="button" class="btn btn-default last">&gt;&gt;</button>
                    </div>

                    <div class="btn-group" role="group">
                        <select class="pagesize" data-noclear="true">
                            <option value="10">10</option>
                            <option selected="selected" value="20">20</option>
                            <option value="40">40</option>
                            <option value="60">60</option>
                            <option value="80">80</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
        </div>
        <div style="display: none;" id="dashboard-view" class="view">
            <div class="container">
                <div id="overview-stats">
                    <p class="inline">In the last <input id="overview-hours" type="text" class="form-control" placeholder="n"> hours there were <span id="overview-processed-mails" class="label label-default">n</span> mails processed. <span id="overview-virus" class="label label-default">n</span> of those are virus mails and <span id="overview-spam" class="label label-default">n</span> are spam mails.</p>
                </div>
                <hr>
                <div id="dashboard-list-stats">
                    <div class="list-grid">
                        <div class="grid-item grid-1">
                            <h4>Top Senders</h4>
                            <div id="list-top-senders"></div>
                        </div>
                        <div class="grid-item grid-2">
                            <h4>Top Sender Domains</h4>
                            <div id="list-top-senders-domain"></div>
                        </div>
                        <div class="grid-item grid-3">
                            <h4>Top Greylisted</h4>
                            <div id="list-top-greylisted"></div>
                        </div>
                        <div class="grid-item grid-4">
                            <h4>Top Greylisted Domains</h4>
                            <div id="list-top-greylisted-domain"></div>
                        </div>
                    </div>
                    <hr>
                    <div class="list-grid">
                        <div class="grid-item grid-1">
                            <h4>Top Spam Senders</h4>
                            <div id="list-top-senders-spam"></div>
                        </div>
                        <div class="grid-item grid-2">
                            <h4>Top Spam Sender Domains</h4>
                            <div id="list-top-senders-spam-domain"></div>
                        </div>
                        <div class="grid-item grid-3"></div>
                        <div class="grid-item grid-4"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer>
    <div class="container">
        <p>Created by Anastassios Martakos</p>
    </div>
</footer>

<div id="expression-templates" class="container" style="display: none">
    <div class="row expression-line">
        <div class="col-xs-4 col-md-4 padding-1-right">
            <select class="expression-select"></select>
        </div>
        <div class="col-xs-1 col-md-1 padding-0-left padding-1-right">
            <button type="button" class="btn btn-default width-100 expression-comparator-button bold"></button>
        </div>
        <div class="col-xs-5 col-md-5 padding-0-left padding-1-right">
            <input class="form-control expression-input" type="text" aria-label="...">
        </div>
        <div class="col-xs-2 col-md-2 padding-0-left">
            <button type="button" class="btn btn-default width-100 expression-remove-button"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></button>
        </div>
    </div>
</div>

</body>
</html>